{% extends "base_public.html" %}
{% load static %}

{% block content %}
<div class="container mt-4" id="product-detail" style="min-height:calc(105vh - 140px);">
  <div class="row g-4 align-items-start">
    <!-- Galería -->
    <div class="col-md-6">
      <div id="galleryWrapper" class="position-relative rounded-4" style="height:520px;background:#f4f5f7;">
        <img id="mainImage"
             src="https://via.placeholder.com/600x600?text=Sin+Imagen"
             alt="Producto"
             class="position-absolute top-50 start-50 translate-middle img-fluid"
             style="max-height:500px;max-width:96%;object-fit:contain;border-radius:16px;">
        <!-- Flechas -->
        <button id="prevImage"
                class="btn btn-light shadow position-absolute top-50 start-0 translate-middle-y ms-2">
          <i class="bi bi-chevron-left"></i>
        </button>
        <button id="nextImage"
                class="btn btn-light shadow position-absolute top-50 end-0 translate-middle-y me-2">
          <i class="bi bi-chevron-right"></i>
        </button>
      </div>

      <!-- Miniaturas -->
      <div id="thumbGallery"
           class="d-flex flex-nowrap gap-2 mt-3 p-2 rounded-3"
           style="overflow-x:auto;background:#fff;border:1px solid #e9ecef;">
        <!-- thumbs -->
      </div>
    </div>

    <!-- Información -->
    <div class="col-md-6">
      <h2 id="productName" class="fw-bold mb-2">Nombre del Producto</h2>
      <p id="productCategory" class="text-muted mb-1">Categoría</p>
      <span id="absoluteCategory" class="badge bg-primary mb-3 d-none"></span>

      <p id="productDescription" class="mb-4">Descripción breve del producto.</p>

      <!-- Tallas -->
      <div class="mb-3">
        <h6 class="fw-bold mb-2">Tallas disponibles</h6>
        <div id="sizesContainer" class="sizes-container"></div>
      </div>

      <!-- Colores -->
      <div class="mb-3">
        <h6 class="fw-bold mb-2">Colores disponibles</h6>
        <div id="variantsContainer" class="variants-container"></div>
      </div>

      <!-- Precio -->
      <p id="productPrice" class="fw-bold text-success fs-3 mt-3">$0 COP</p>

      <!-- Stock -->
      <p id="productStock" class="stock-text"><strong>Stock:</strong> 0 unidades</p>

      <!-- WhatsApp -->
      <div class="mt-4">
        <a id="whatsappButton" target="_blank" class="btn btn-success btn-lg w-100">
          <i class="bi bi-whatsapp"></i> Consultar por WhatsApp
        </a>
      </div>
    </div>
  </div>
</div>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/productDetail.js' %}"></script>
{% endblock %}
